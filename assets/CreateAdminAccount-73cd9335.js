import{_ as S,m as N,r as p,o as l,c as u,w as t,g as A,d as r,e as h,f as a,V as _,b as n,t as m,h as d,k as b}from"./index-c11b2295.js";import{r as k}from"./registration-store-5d870968.js";const P={data(){return{verificationCode:"",verificationCodeSent:!1,verificationCodeInfoMessage:"",verificationCodeError:"",errors:{firstName:"",lastName:"",telephoneNumber:"",email:"",password:"",confirmPassword:""}}},computed:{...N(k)},methods:{pressSendVerificationCode(){this.verificationCodeSent=!0,this.verificationCodeInfoMessage="Verification code has been sent to your email address"},verifyCode(){this.verificationCode=="1234"?(this.verificationCodeInfoMessage="Email has been verified",this.registrationStore.adminAccount.emailVerified=!0,this.errors.email=""):this.verificationCodeError="Verification code invalid"},sendNewCode(){this.verificationCodeInfoMessage="New verification code has been sent to your email address",this.verificationCodeError=""},verifyFields(){this.errors.firstName="",this.errors.lastName="",this.errors.telephoneNumber="",this.errors.email="",this.errors.password="",this.errors.confirmPassword="";let e=!1;this.registrationStore.adminAccount.firstName==""&&(this.errors.firstName="Please enter your first name",e=!0),this.registrationStore.adminAccount.lastName==""&&(this.errors.lastName="Please enter your last name",e=!0),this.registrationStore.adminAccount.telephoneNumber==""&&(this.errors.telephoneNumber="Please enter your telephone number",e=!0),this.registrationStore.adminAccount.email==""&&(this.errors.email="Please enter your email address",e=!0),this.registrationStore.adminAccount.emailVerified==!1&&(this.errors.email="Please verify your email address",e=!0),this.registrationStore.adminAccount.password==""&&(this.errors.password="Please enter a password",e=!0),this.registrationStore.adminAccount.confirmPassword==""&&(this.errors.confirmPassword="Please confirm your password",e=!0),this.registrationStore.adminAccount.password!=this.registrationStore.adminAccount.confirmPassword&&(this.errors.confirmPassword="Passwords do not match",e=!0),e==!1&&this.$router.push("/ltt/agent-summary")}}},E={class:"mb-5"},x=n("p",null," This account will be the main contact for the WRA and will be responsible for managing user accounts (creating, activating and deactivating accounts) for your organisation. ",-1),I=n("p",null," All fields are required unless stated optional. ",-1),U=n("div",null,"First name",-1),M=n("div",null,"Last name",-1),z=n("div",null,"Direct contact telephone number",-1),F=n("div",{style:{color:"#666666"}}," Include numbers only without spaces. For example, '0123456789' ",-1),R=n("div",null,"Email address",-1),T=n("div",{style:{color:"#666666"}}," This is the email address that will be used to create an account to access WRA online tax services. ",-1),B={key:2},W={key:0},D=n("div",null,"Verification code",-1),L={class:"d-flex"},q=n("div",{class:"mt-4"},"Password",-1),j=n("div",null,"Confirm password",-1);function G(e,o,H,J,s,v){const y=p("wra-divider"),V=p("wra-subheader"),g=p("wra-header"),f=p("wra-text-input"),c=p("wra-validation-tooltip"),w=p("wra-button"),C=p("wra-card");return l(),u(A,{class:"pt-0 pb-3"},{default:t(()=>[r(_,{"no-gutters":"",class:"pb-6"},{default:t(()=>[r(h,{lg:"2",cols:"0"}),r(h,{lg:"8",cols:"12"},{default:t(()=>[r(y,{thickness:6}),r(V,{class:"mt-8"},{default:t(()=>[a(" Welsh Revenue Authority ")]),_:1}),r(g,{size:"h2",class:"mb-4"},{default:t(()=>[a(" Register your agent organisation to file Land Transaction Tax online ")]),_:1}),r(y,{thickness:1})]),_:1}),r(h,{lg:"2",cols:"0"})]),_:1}),r(_,{"no-gutters":""},{default:t(()=>[r(h,{lg:"2",cols:"0"}),r(h,{ol:"",lg:"8",cols:"12"},{default:t(()=>[r(C,{class:"pa-10"},{default:t(()=>[n("div",E,[r(g,{size:"h3",class:"mb-1"},{default:t(()=>[a(" Create your administrator account ")]),_:1}),x,I]),U,r(f,{class:"mb-2",modelValue:e.registrationStore.adminAccount.firstName,"onUpdate:modelValue":o[0]||(o[0]=i=>e.registrationStore.adminAccount.firstName=i),style:{width:"300px"}},null,8,["modelValue"]),s.errors.firstName!=""?(l(),u(c,{key:0,class:"my-4",type:"wra-error"},{default:t(()=>[a(m(s.errors.firstName),1)]),_:1})):d("",!0),M,r(f,{class:"mb-2",modelValue:e.registrationStore.adminAccount.lastName,"onUpdate:modelValue":o[1]||(o[1]=i=>e.registrationStore.adminAccount.lastName=i),style:{width:"300px"}},null,8,["modelValue"]),s.errors.lastName!=""?(l(),u(c,{key:1,class:"my-4",type:"wra-error"},{default:t(()=>[a(m(s.errors.lastName),1)]),_:1})):d("",!0),n("div",null,[z,F,r(f,{class:"mb-2",modelValue:e.registrationStore.adminAccount.telephoneNumber,"onUpdate:modelValue":o[2]||(o[2]=i=>e.registrationStore.adminAccount.telephoneNumber=i),style:{width:"300px"}},null,8,["modelValue"]),s.errors.telephoneNumber!=""?(l(),u(c,{key:0,class:"my-4",type:"wra-error"},{default:t(()=>[a(m(s.errors.telephoneNumber),1)]),_:1})):d("",!0)]),n("div",null,[R,T,r(f,{class:"mb-2",modelValue:e.registrationStore.adminAccount.email,"onUpdate:modelValue":o[3]||(o[3]=i=>e.registrationStore.adminAccount.email=i),style:{width:"300px"}},null,8,["modelValue"]),s.errors.email!=""?(l(),u(c,{key:0,class:"my-4",type:"wra-error"},{default:t(()=>[a(m(s.errors.email),1)]),_:1})):d("",!0),e.registrationStore.adminAccount.emailVerified==!1?(l(),u(w,{key:1,color:"success",size:"x-large",ripple:!1,variant:"flat",class:"mb-5",onClick:o[4]||(o[4]=i=>v.pressSendVerificationCode())},{default:t(()=>[a(" Send verification code ")]),_:1})):d("",!0),s.verificationCodeSent==!0?(l(),b("div",B,[e.registrationStore.adminAccount.emailVerified==!1?(l(),b("div",W,[D,r(f,{class:"mb-2",modelValue:s.verificationCode,"onUpdate:modelValue":o[5]||(o[5]=i=>s.verificationCode=i),style:{width:"300px"}},null,8,["modelValue"]),s.verificationCodeError!=""?(l(),u(c,{key:0,class:"my-4",type:"wra-error"},{default:t(()=>[a(m(s.verificationCodeError),1)]),_:1})):d("",!0),n("div",L,[r(w,{color:"success",size:"x-large",ripple:!1,variant:"flat",class:"mr-3",onClick:o[6]||(o[6]=i=>v.verifyCode())},{default:t(()=>[a(" Verify code ")]),_:1}),r(w,{color:"obsidian",size:"x-large",ripple:!1,variant:"flat",onClick:o[7]||(o[7]=i=>v.sendNewCode())},{default:t(()=>[a(" Send new code ")]),_:1})])])):d("",!0),s.verificationCodeInfoMessage!=""?(l(),u(c,{key:1,class:"my-4",type:"wra-info"},{default:t(()=>[a(m(s.verificationCodeInfoMessage),1)]),_:1})):d("",!0)])):d("",!0)]),q,r(f,{modelValue:e.registrationStore.adminAccount.password,"onUpdate:modelValue":o[8]||(o[8]=i=>e.registrationStore.adminAccount.password=i),class:"mb-4",type:"password",style:{width:"300px"}},null,8,["modelValue"]),s.errors.password!=""?(l(),u(c,{key:2,class:"my-4",type:"wra-error"},{default:t(()=>[a(m(s.errors.password),1)]),_:1})):d("",!0),j,r(f,{class:"mb-10",modelValue:e.registrationStore.adminAccount.confirmPassword,"onUpdate:modelValue":o[9]||(o[9]=i=>e.registrationStore.adminAccount.confirmPassword=i),type:"password",style:{width:"300px"}},null,8,["modelValue"]),s.errors.confirmPassword!=""?(l(),u(c,{key:3,class:"my-4",type:"wra-error"},{default:t(()=>[a(m(s.errors.confirmPassword),1)]),_:1})):d("",!0),r(w,{"prepend-icon":"mdi-chevron-left",color:"obsidian",variant:"flat",ripple:!1,class:"mr-3",onClick:o[10]||(o[10]=i=>e.$router.back())},{default:t(()=>[a(" Previous ")]),_:1}),r(w,{color:"obsidian",variant:"flat",ripple:!1,"append-icon":"mdi-chevron-right",onClick:o[11]||(o[11]=i=>v.verifyFields())},{default:t(()=>[a(" Next ")]),_:1})]),_:1})]),_:1}),r(h,{lg:"2",cols:"0"})]),_:1})]),_:1})}const Q=S(P,[["render",G]]);export{Q as default};
